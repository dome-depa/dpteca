{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block head_title %}{{ block.super }} - HOMEPAGE{% endblock head_title %}

{% block content %}

    {% if not user.is_authenticated %}
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        <h5 class="alert-heading"><i class="bi bi-info-circle"></i> Benvenuto in dPteca!</h5>
        <p class="mb-2">Accedi per accedere a tutte le funzionalit√† e gestire la tua collezione musicale.</p>
        <hr>
        <div class="d-flex gap-2">
            <a href="{% url 'login' %}" class="btn btn-primary btn-sm">
                <i class="bi bi-box-arrow-in-right"></i> Accedi
            </a>
            <a href="{% url 'registrazione_view' %}" class="btn btn-outline-secondary btn-sm">
                <i class="bi bi-person-plus"></i> Registrati
            </a>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endif %}
 
    {% for artista in lista_artisti %}  
        <div class="card my-1">
            <div class="card-header my-0">
                <h5>Artista/Gruppo: <a class="mx-1" href="{{ artista.get_absolute_url }}"><strong>{{ artista.nome_artista }}</strong></a></h5> 
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg- col-2">
                        {% if artista.foto_artista.name %}
                            <img src="{{ artista.foto_artista.url }}" style="max-width:100%">  
                        {% else %}
                            <div class="text-muted">Nessuna foto</div>
                        {% endif %}
                    </div>
                    <div class="col-lg-8 col-8"> 
                        <P>{{ artista.profilo }}</P>
                    </div>
                </div>
            </div>
            <div class="card-footer">
            </div>
        
        </div>
    {% endfor %}

{% endblock content %}